(this["webpackJsonpreact-aviasales-v2-classes"]=this["webpackJsonpreact-aviasales-v2-classes"]||[]).push([[0],{30:function(e,t,r){e.exports=r.p+"static/media/logo.18ef78fb.svg"},32:function(e,t,r){e.exports=r.p+"static/media/check.8490a9b4.svg"},34:function(e,t,r){e.exports=r(63)},62:function(e,t,r){},63:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(14),o=r.n(c),i=r(2),s=r(3),l=r(5),p=r(4),u=r(6),d=r(1),h=r(30),b=r.n(h);var f=Object(d.a)("a",{target:"eolyjrm0"})({name:"9p2zdk",styles:"display:block;width:82px;height:90px;margin:0 auto;text-decoration:none;"}),g=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(f,{href:"https://termitkin.github.io/react-aviasales-v2/",title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},a.a.createElement("img",{src:b.a,alt:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}))}}]),t}(a.a.Component),x=r(8),m=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(){return r.props.changeCurrency(r.props.currency)},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.currentCurrency===this.props.currency||this.props.currency===this.props.currentCurrency}},{key:"render",value:function(){var e=Object(d.a)("button",{target:"ea19b4j0"})("width:33.3%;height:40px;background-color:",this.props.currency===this.props.currentCurrency?"#2196f3":"#fff",";border:",this.props.currency===this.props.currentCurrency?"1px solid #64b5f5":"1px solid #d2d5d6",";cursor:pointer;color:",this.props.currency===this.props.currentCurrency?"#fff":"#2196f3",";font-family:Open Sans,sans-serif;font-weight:600;font-size:0.75rem;line-height:22px;letter-spacing:0.5px;text-transform:uppercase;transition:color,background-color,border 0.15s;border-radius:",this.props.borderRadius||"0 0 0 0",";&:nth-of-type(2),&:nth-of-type(3){margin-left:-1px;}&:hover{background-color:",this.props.currency===this.props.currentCurrency?"#2196f3":"#e5f9ff",";border:1px solid #64b5f5;z-index:1;}&:focus{background-color:",this.props.currency===this.props.currentCurrency?"#2196f3":"#fff",";border:",this.props.currency===this.props.currentCurrency?"1px solid #64b5f5":"3px solid #64b5f5",";z-index:1;}");return a.a.createElement(e,{onClick:this.handleClick,"aria-label":this.props.ariaLabel},this.props.currency)}}]),t}(a.a.Component),y="(min-width: 960px)",O="ACTION_TICKETS_HAS_ERRORED",E="ACTION_TICKETS_IS_LOADING",C="ACTION_TICKETS_FETCH_DATA_SUCCESS";var k=Object(d.a)("div",{target:"eo1tc7r0"})({name:"130ygm1",styles:"display:flex;margin:0 14px 0 14px;"}),v=Object(d.a)(m,{target:"eo1tc7r1"})("width:100%;height:65px;display:flex;padding:10px 15px 15px;box-sizing:border-box;position:relative;@media ",y,"{height:40px;margin:10px auto 16px auto;}"),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(k,{"aria-label":"\u0412 \u043a\u0430\u043a\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u044b"},a.a.createElement(v,{ariaLabel:"\u0440\u0443\u0431\u043b\u0438",currency:"rub",borderRadius:"5px 0px 0px 5px",currentCurrency:this.props.currentCurrency,changeCurrency:this.props.changeCurrency}),a.a.createElement(v,{ariaLabel:"\u0434\u043e\u043b\u043b\u0430\u0440\u044b",currency:"usd",currentCurrency:this.props.currentCurrency,changeCurrency:this.props.changeCurrency}),a.a.createElement(v,{ariaLabel:"\u0435\u0432\u0440\u043e",currency:"eur",borderRadius:"0px 5px 5px 0px",currentCurrency:this.props.currentCurrency,changeCurrency:this.props.changeCurrency}))}}]),t}(a.a.Component),w={changeCurrency:function(e){return{type:"ACTION_CHANGE_CURRENCY",payload:e}}},R=Object(x.b)((function(e){return{currentCurrency:e.currency.currentCurrency}}),w)(j),T=r(32),S=r.n(T);var _=Object(d.a)("label",{target:"esyea760"})({name:"tawa9t",styles:'width:100%;display:flex;align-items:center;cursor:pointer;font-family:Open Sans,sans-serif;font-weight:normal;font-size:0.8125rem;line-height:35px;color:#4a4a4a;&::before{content:"";display:inline-block;width:19px;height:19px;border:1px solid #d2d5d6;border-radius:3px;box-sizing:border-box;margin-right:10px;}'}),A=Object(d.a)("input",{target:"esyea761"})("position:absolute;width:1px;height:1px;margin:-1px;border:0;padding:0;clip:rect(0 0 0 0);overflow:hidden;&:checked + ",_,"::before{border:1px solid #2196f3;background-image:url(",S.a,");background-position:center center;background-repeat:no-repeat;}&:focus + ",_,"::before{border:3px solid #2196f3;}"),I=Object(d.a)("button",{target:"esyea762"})({name:"1lqzru1",styles:"width:49px;background-color:transparent;border:none;margin-left:auto;font-family:Open Sans,sans-serif;font-weight:600;font-size:0.6875rem;line-height:35px;letter-spacing:0.5px;color:#2196f3;text-transform:uppercase;display:none;cursor:pointer;padding:0;&:hover,&:focus{color:#ff9d1b;}"}),B=Object(d.a)("div",{target:"esyea763"})("width:290px;height:36px;padding:0 15px;display:flex;align-items:center;box-sizing:border-box;outline:none;@media ",y,"{width:232px;}&:hover{background-color:#f1fcff;}&:hover ",I,"{display:table-cell;background-color:#f1fcff;}"),N=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleClickOnCheckbox=function(){return r.props.changeStops({currentClickedCheckbox:"checkbox"+r.props.id,only:!1})},r.handleClickOnOnlyButton=function(){return r.props.changeStops({currentClickedCheckbox:"checkbox"+r.props.id,only:!0})},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return"all"!==this.props.stops&&(e=a.a.createElement(I,{onClick:this.handleClickOnOnlyButton},"\u0442\u043e\u043b\u044c\u043a\u043e")),a.a.createElement(B,{tabIndex:"-1"},a.a.createElement(A,{checked:this.props.isEnabled,id:"checkbox"+this.props.id,type:"checkbox",onChange:this.handleClickOnCheckbox}),a.a.createElement(_,{htmlFor:"checkbox"+this.props.id},this.props.labelText),e)}}]),t}(a.a.PureComponent),z=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,Object.values(this.props.stops).map((function(t){return a.a.createElement(N,{key:t.id,id:t.id,labelText:t.labelText,stops:t.stops,isEnabled:t.isEnabled,changeStops:e.props.changeStops})})))}}]),t}(a.a.Component),H={changeStops:function(e){return{type:"ACTION_CHANGE_STOPS",payload:e}}},U=Object(x.b)((function(e){return{stops:e.stops}}),H)(z);var q=Object(d.a)("div",{target:"expee4q0"})("display:flex;flex-direction:column;width:290px;background-color:#fff;box-shadow:0px 1px 4px rgba(91,137,164,0.25);border-radius:5px;margin-bottom:30px;border:1px solid #fff;@media ",y,"{width:232px;margin-bottom:0;}"),D=Object(d.a)("fieldset",{target:"expee4q1"})({name:"v7jne7",styles:"width:100%;max-width:100%;display:block;border:none;padding:0;margin:15px 0 0 0;&:last-child{margin:15px 0 15px 0;}"}),L=Object(d.a)("legend",{target:"expee4q2"})({name:"a9girn",styles:"font-family:Open Sans,sans-serif;font-weight:600;font-size:0.75rem;line-height:19px;letter-spacing:0.5px;color:#4a4a4a;text-transform:uppercase;margin-left:14px;margin-bottom:15px;padding:0;"}),F=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(q,null,a.a.createElement(D,null,a.a.createElement(L,null,"\u0412\u0430\u043b\u044e\u0442\u0430"),a.a.createElement(R,null)),a.a.createElement(D,null,a.a.createElement(L,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(U,null)))}}]),t}(a.a.Component),M=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(){return r.props.changeFasterOrCheaper(r.props.sortBy)},r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(d.a)("button",{target:"e8uq9iz0"})("display:flex;align-items:center;justify-content:center;width:50%;height:50px;background-color:",this.props.sortBy===this.props.currentSortBy?"#2196F3":"#fff",";color:",this.props.sortBy===this.props.currentSortBy?"#fff":"#4A4A4A",";border:",this.props.sortBy===this.props.currentSortBy?"1px solid #2196F3":"1px solid #dfe5ec",";cursor:pointer;font-family:Open Sans;font-style:normal;font-weight:600;font-size:0.75rem;letter-spacing:0.5px;text-transform:uppercase;border-radius:",this.props.borderRadius||"0 0 0 0",";padding:0;&:hover{background-color:",this.props.sortBy===this.props.currentSortBy?"#2196f3":"#fff",";border:1px solid #64b5f5;}&:focus{background-color:",this.props.sortBy===this.props.currentSortBy?"#2196f3":"#fff",";border:",this.props.sortBy===this.props.currentSortBy?"1px solid #64b5f5":"3px solid #64b5f5",";}");return a.a.createElement(e,{onClick:this.handleClick},this.props.text)}}]),t}(a.a.Component);var Y=Object(d.a)("div",{target:"e11d1wvq0"})({name:"105scsi",styles:"width:100%;max-width:500px;height:50px;display:flex;"}),G=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(Y,null,a.a.createElement(M,{text:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439",borderRadius:"5px 0px 0px 5px",sortBy:"cheaper",currentSortBy:this.props.sortBy,changeFasterOrCheaper:this.props.changeFasterOrCheaper}),a.a.createElement(M,{text:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439",borderRadius:"0px 5px 5px 0px",sortBy:"fastes",currentSortBy:this.props.sortBy,changeFasterOrCheaper:this.props.changeFasterOrCheaper}))}}]),t}(a.a.Component),P={changeFasterOrCheaper:function(e){return{type:"ACTION_FASTER_OR_CHEAPER",payload:e}}},J=Object(x.b)((function(e){return{sortBy:e.fastesOrCheaper.sortBy}}),P)(G),K=r(13),$=r(10),Q=r.n($);function V(e){return{type:O,ticketsHasErrored:e}}function W(e){return{type:E,ticketsIsLoading:e}}function X(e){return function(t){t(W(!0));(function(e){return Q.a.get(e).then((function(e){return e.data.searchId})).catch((function(){return t(V(!0))}))})(e).then((function(e){(function e(r,n){return Q.a.get("https://front-test.beta.aviasales.ru/tickets",{params:{searchId:r}}).then((function(t){return!1===t.data.stop?(n.push.apply(n,Object(K.a)(t.data.tickets)),e(r,n)):!0===t.data.stop?(n.push.apply(n,Object(K.a)(t.data.tickets)),n):void 0})).catch((function(a){if(500===a.response.status)return e(r,n);t(V(!0))}))})(e,[]).then((function(e){t({type:C,tickets:{tickets:e}}),t(W(!1))}))}))}}var Z=function(e){return{type:"ACTION_CURRENCY_RATES_HAS_ERRORED",currencyRatesHasErrored:e}},ee=function(e){return{type:"ACTION_CURRENCY_RATES_IS_LOADING",currencyRatesIsLoading:e}},te=function(e){var t=e/60,r=Math.floor(t),n=60*(t-(r=r>9?r:"0".concat(r))),a=Math.round(n);return a=a>9?a:"0".concat(a),"".concat(r,"\u0447 ").concat(a,"\u043c")},re=function(e,t){var r=new Date(e);r.setTime(r.getTime()+108e5);var n=r.getTime()+6e4*t,a=r.getUTCHours()>9?r.getUTCHours():"0".concat(r.getUTCHours()),c=r.getUTCMinutes()>9?r.getUTCMinutes():"0".concat(r.getUTCMinutes()),o="".concat(a,":").concat(c),i=new Date(n).getUTCHours()>9?new Date(n).getUTCHours():"0".concat(new Date(n).getUTCHours()),s=new Date(n).getUTCMinutes()>9?new Date(n).getUTCMinutes():"0".concat(new Date(n).getUTCMinutes()),l="".concat(i,":").concat(s);return"".concat(o," \u2013 ").concat(l)},ne=function(e){return 0===e.length?"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===e.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")};var ae=Object(d.a)("div",{target:"e1q4lx5g0"})("width:100%;box-shadow:0px 2px 8px rgba(0,0,0,0.1);border-radius:5px;padding:5px;margin-top:20px;box-sizing:border-box;background-color:#fff;border-bottom:3px solid transparent;transition:border-bottom 0.25s;&:hover,&:focus{cursor:pointer;border-bottom:3px solid #2196f3;}@media ",y,"{width:100%;box-shadow:0px 2px 8px rgba(0,0,0,0.1);border-radius:5px;padding:20px;margin-top:20px;box-sizing:border-box;background-color:#fff;}"),ce=Object(d.a)("div",{target:"e1q4lx5g1"})("position:rticketative;z-index:0;box-shadow:0px 1px 4px rgba(91,137,164,0.25);border-radius:5px;transition:box-shadow 0.25s;&:hover,&:focus{outline:none;box-shadow:0px 5px 25px rgba(91,137,164,0.1);}&:hover ",ae,",&:focus ",ae,'{border-bottom:3px solid #2196f3;}&:after{content:"";width:100%;height:46px;position:absolute;box-shadow:0px 10px 50px rgba(91,137,164,0.25);bottom:0;left:50%;transform:translate(-50%,0);z-index:-1;opacity:0;transition:opacity 0.25s;border-radius:5px;}&:hover:after,&:focus:after{content:"";width:100%;height:46px;position:absolute;box-shadow:0px 10px 50px rgba(91,137,164,0.25);bottom:0;left:50%;transform:translate(-50%,0);z-index:-1;opacity:1;}'),oe=Object(d.a)("div",{target:"e1q4lx5g2"})({name:"15z00yd",styles:"width:100%;height:36px;display:flex;justify-content:space-between;align-items:center;"}),ie=Object(d.a)("picture",{target:"e1q4lx5g3"})({name:"ndcr7b",styles:"width:140px;height:36px;display:flex;justify-content:flex-end;"}),se=Object(d.a)("img",{target:"e1q4lx5g4"})("width:99px;height:36px;margin-right:5px;@media ",y,"{margin-right:0px;}"),le=Object(d.a)("div",{target:"e1q4lx5g5"})("margin-left:5px;font-family:Open Sans;font-style:normal;font-weight:600;font-size:1.5rem;line-height:1.5rem;color:#2196f3;@media ",y,"{margin-left:0;}"),pe=Object(d.a)("div",{target:"e1q4lx5g6"})("width:33.3%;display:flex;align-items:center;justify-content:center;font-family:Open Sans;font-style:normal;font-weight:600;@media ",y,"{width:140px;justify-content:flex-start;}"),ue=Object(d.a)(pe,{target:"e1q4lx5g7"})({name:"ydl695",styles:"font-size:0.75rem;height:18px;color:#a0b0b9;"}),de=Object(d.a)(pe,{target:"e1q4lx5g8"})("font-size:0.8125rem;height:21px;color:#4a4a4a;@media ",y,"{font-size:0.875rem;height:21px;color:#4a4a4a;}"),he=Object(d.a)("div",{target:"e1q4lx5g9"})({name:"1ao0q19",styles:"width:100%;height:39px;display:flex;flex-wrap:wrap;flex-direction:column;align-content:space-between;margin-top:20px;&:last-child{margin-top:10px;}"}),be=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.ticket&&this.props.ticket.map((function(t){return a.a.createElement(ce,{key:t.carrier+t.price+t.segments[0].origin+t.segments[0].duration+t.segments[1].duration,tabIndex:"0"},a.a.createElement(ae,null,a.a.createElement(oe,null,a.a.createElement(le,null,(r=t.price,n=e.props.currentCurrency,c=e.props.currencyRates,"usd"===n?(r/=c.usd,r=Number(r).toFixed(2),r="".concat(r.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")," $")):"eur"===n?(r/=c.eur,r=Number(r).toFixed(2),r="".concat(r.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")," \u20ac")):r="".concat(r.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")," \u20bd"),r)),a.a.createElement(ie,null,a.a.createElement("source",{srcSet:"https://pics.avs.io/99/36/".concat(t.carrier,"@2x.png"),type:"image/png",media:"screen and (-webkit-min-device-pixticket-ratio: 1.25), screen and ( min--moz-device-pixticket-ratio: 1.25), screen and (-o-min-device-pixticket-ratio: 1.25/1), screen and (min-device-pixticket-ratio: 1.25), screen and ( min-resolution: 200dpi), screen and ( min-resolution: 1.25dppx)"}),a.a.createElement(se,{src:"https://pics.avs.io/99/36/".concat(t.carrier,".png"),alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}))),a.a.createElement(he,null,a.a.createElement(ue,null,"".concat(t.segments[0].origin," \u2013 ").concat(t.segments[0].destination)),a.a.createElement(de,null,re(t.segments[0].date,t.segments[0].duration)),a.a.createElement(ue,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(de,null,te(t.segments[0].duration)),a.a.createElement(ue,null,ne(t.segments[0].stops)),a.a.createElement(de,null,Object(K.a)(t.segments[0].stops).join(", "))),a.a.createElement(he,null,a.a.createElement(ue,null,"".concat(t.segments[1].destination," \u2013 ").concat(t.segments[1].origin)),a.a.createElement(de,null,re(t.segments[1].date,t.segments[1].duration)),a.a.createElement(ue,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(de,null,te(t.segments[1].duration)),a.a.createElement(ue,null,ne(t.segments[1].stops)),a.a.createElement(de,null,Object(K.a)(t.segments[1].stops).join(", ")))));var r,n,c}))}}]),t}(a.a.Component);var fe=Object(d.a)("div",{target:"e1zo3rh0"})({name:"1z0wz2g",styles:"display:block;margin-top:12px;text-align:center;color:#333;"}),ge=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(fe,null,this.props.text)}}]),t}(a.a.Component);var xe=Object(d.a)("div",{target:"e13lydeq0"})({name:"ta218l",styles:"width:100%;max-width:500px;height:184px;background-color:#eee;margin-top:20px;display:flex;justify-content:center;align-items:center;"}),me=Object(d.a)("span",{target:"e13lydeq1"})({name:"otm9m9",styles:"font-size:1rem;color:#333;font-family:sans-serif;font-weight:bold;"}),ye=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(xe,null,a.a.createElement(me,null,"\u0411\u0438\u043b\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f")),a.a.createElement(xe,null,a.a.createElement(me,null,"\u0411\u0438\u043b\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f")),a.a.createElement(xe,null,a.a.createElement(me,null,"\u0411\u0438\u043b\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f")),a.a.createElement(xe,null,a.a.createElement(me,null,"\u0411\u0438\u043b\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f")),a.a.createElement(xe,null,a.a.createElement(me,null,"\u0411\u0438\u043b\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f")))}}]),t}(a.a.Component),Oe=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTickets("https://front-test.beta.aviasales.ru/search"),this.props.fetchCurrentRates()}},{key:"render",value:function(){var e=this.props.tickets.tickets.slice(),t=[];if(!0===this.props.checkboxes.checkbox0.isEnabled)t="all";else for(var r in this.props.checkboxes)!0===this.props.checkboxes[r].isEnabled&&t.push(this.props.checkboxes[r].stops);return"all"!==t&&(e=e.filter((function(e){return t.some((function(t){return t===e.segments[0].stops.length&&t===e.segments[1].stops.length}))}))),"cheaper"===this.props.sortBy?e.sort((function(e,t){return e.price-t.price})):e.sort((function(e,t){return e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)})),e=e.slice(0,5),this.props.ticketsHasErrored||this.props.currencyRatesHasErrored?a.a.createElement(ge,{text:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 =( \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"}):!0===this.props.ticketsIsLoading?a.a.createElement(ye,null):0===e.length?a.a.createElement(ge,{text:"\u041c\u044b \u043d\u0430\u0448\u043b\u0438 ".concat(this.props.tickets.tickets.length," \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u043d\u043e \u043d\u0438 \u043e\u0434\u0438\u043d \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c.")}):a.a.createElement(be,{ticket:e,currentCurrency:this.props.currentCurrency,currencyRates:this.props.currencyRates.currencyRates})}}]),t}(a.a.Component),Ee=Object(x.b)((function(e){return{checkboxes:e.stops,sortBy:e.fastesOrCheaper.sortBy,currentCurrency:e.currency.currentCurrency,tickets:e.tickets,ticketsIsLoading:e.ticketsIsLoading,ticketsHasErrored:e.ticketsHasErrored,currencyRates:e.currencyRates,currencyRatesHasErrored:e.currencyRatesHasErrored,currencyRatesIsLoading:e.currencyRatesIsLoading}}),(function(e){return{fetchCurrentRates:function(){return e((function(e){e(ee(!0));var t=Q.a.get("https://api.ratesapi.io/api/latest?base=USD&symbols=RUB").then((function(e){return e.data.rates.RUB})).catch((function(){return e(Z(!0))})),r=Q.a.get("https://api.ratesapi.io/api/latest?base=EUR&symbols=RUB").then((function(e){return e.data.rates.RUB})).catch((function(){return e(Z(!0))}));Q.a.all([t,r]).then(Q.a.spread((function(t,r){e({type:"ACTION_CURRENCY_RATES_FETCH_DATA_SUCCESS",currencyRates:{currencyRates:{usd:t,eur:r}}}),e(ee(!1))})))}))},fetchTickets:function(t){return e(X(t))}}}))(Oe);var Ce=Object(d.a)("div",{target:"e1tiuls30"})({name:"z6z39o",styles:"padding:1px;min-height:100%;background-color:#f3f7fa;box-sizing:border-box;"}),ke=Object(d.a)("div",{target:"e1tiuls31"})("width:292px;display:flex;flex-direction:column;margin:50px auto;justify-content:flex-start;@media ",y,"{width:752px;flex-direction:row;justify-content:space-between;align-items:flex-start;}"),ve=Object(d.a)("div",{target:"e1tiuls32"})({name:"1at057e",styles:"width:100%;max-width:500px;dispay:flex;flex-direction:column;"}),je=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(Ce,null,a.a.createElement(g,null),a.a.createElement(ke,null,a.a.createElement(F,null),a.a.createElement(ve,null,a.a.createElement(J,null),a.a.createElement(Ee,null))))}}]),t}(a.a.Component),we=(r(62),r(11)),Re=r(33),Te=r(15),Se={currentCurrency:"rub"},_e={sortBy:"cheaper"},Ae={checkbox0:{id:0,stops:"all",isEnabled:!0,labelText:"\u0412\u0441\u0435"},checkbox1:{id:1,stops:0,isEnabled:!0,labelText:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},checkbox2:{id:2,stops:1,isEnabled:!0,labelText:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"},checkbox3:{id:3,stops:2,isEnabled:!0,labelText:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},checkbox4:{id:4,stops:3,isEnabled:!0,labelText:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}},Ie={tickets:[]},Be={currencyRates:{usd:"",eur:""}},Ne=Object(we.c)({stops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_CHANGE_STOPS":var r=JSON.parse(JSON.stringify(e)),n=t.payload.currentClickedCheckbox;if(!0===t.payload.only){for(var a in r)r[a].isEnabled=!1;r[n].isEnabled=!0}else if("checkbox0"===n&&!1===e.checkbox0.isEnabled)for(var c in r)r[c].isEnabled=!0;else if("checkbox0"===n&&!0===e.checkbox0.isEnabled)for(var o in r)r[o].isEnabled=!1;else if("checkbox0"!==n&&!0===e.checkbox0.isEnabled)r.checkbox0={id:e.checkbox0.id,isEnabled:!1,labelText:e.checkbox0.labelText,stops:e.checkbox0.stops},r[n].isEnabled=!e[n].isEnabled;else if("checkbox0"!==n&&!1===e.checkbox0.isEnabled){r[n].isEnabled=!e[n].isEnabled;var i=0,s=0;for(var l in r)!0===r[l].isEnabled&&(s+=1),i+=1;s===i-1&&(r.checkbox0.isEnabled=!0)}else r[n].isEnabled=!e[n].isEnabled;return r;default:return e}},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_CHANGE_CURRENCY":return Object(Te.a)({},e,{currentCurrency:t.payload});default:return e}},fastesOrCheaper:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_FASTER_OR_CHEAPER":return Object(Te.a)({},e,{sortBy:t.payload});default:return e}},currencyRates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_CURRENCY_RATES_FETCH_DATA_SUCCESS":return t.currencyRates;default:return e}},currencyRatesHasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_CURRENCY_RATES_HAS_ERRORED":return t.currencyRatesHasErrored;default:return e}},currencyRatesIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_CURRENCY_RATES_IS_LOADING":return t.currencyRatesIsLoading;default:return e}},tickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.tickets;default:return e}},ticketsHasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.ticketsHasErrored;default:return e}},ticketsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.ticketsIsLoading;default:return e}}}),ze=function(e){return Object(we.d)(Ne,e,Object(we.a)(Re.a))}();o.a.render(a.a.createElement(x.a,{store:ze},a.a.createElement(je,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5c4297af.chunk.js.map